<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dascent AiLab | Instruction Lab Pro</title>
    <style>
        :root{--bg:#0f172a;--panel:#1e293b;--accent:#6366f1;--accent-glow:rgba(99,102,241,0.3);--text-main:#f1f5f9;--text-dim:#94a3b8;--border:#334155;--success:#10b981}*{box-sizing:border-box}body{font-family:'Inter',-apple-system,sans-serif;background-color:var(--bg);color:var(--text-main);margin:0;display:flex;justify-content:center;padding:40px 20px}#app{width:100%;max-width:1100px;margin:0 auto;}header{text-align:center;margin-bottom:40px}h1{font-size:2.2rem;letter-spacing:-1px;margin-bottom:10px;background:linear-gradient(90deg,#fff,#818cf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}p.subtitle{color:var(--text-dim);font-size:0.95rem}.grid{display:grid;grid-template-columns:1fr 1fr;gap:25px}@media(max-width:900px){.grid{grid-template-columns:1fr}}.card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:25px;box-shadow:0 10px 15px -3px rgba(0,0,0,0.1)}h3{margin:0 0 20px 0;font-size:1.1rem;color:var(--accent);display:flex;align-items:center;gap:10px}.field{margin-bottom:18px}label{display:block;font-size:0.75rem;text-transform:uppercase;letter-spacing:1.5px;font-weight:700;color:var(--text-dim);margin-bottom:8px}input,textarea,select{width:100%;background:#0f172a;border:1px solid var(--border);border-radius:6px;padding:12px;color:#fff;font-size:0.95rem;transition:border .2s,box-shadow .2s}input:focus,textarea:focus,select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}textarea{min-height:80px;resize:vertical}.btn-group{display:flex;gap:10px;margin-top:20px}button{flex:1;padding:12px;border-radius:6px;font-weight:600;cursor:pointer;border:none;transition:transform .1s,opacity .2s;display:flex;justify-content:center;align-items:center;gap:8px}button:active{transform:scale(0.98)}.btn-primary{background:var(--accent);color:white}.btn-secondary{background:var(--border);color:white}.btn-success{background:var(--success);color:white}#output{background:#050a15;padding:20px;border-radius:8px;font-family:'Fira Code','Courier New',monospace;font-size:0.85rem;line-height:1.6;overflow-x:auto;white-space:pre-wrap;color:#a5b4fc;border:1px solid var(--border);min-height:450px}.token-h{color:#ff79c6;font-weight:bold}.token-v{color:#50fa7b}.guide{margin-top:20px;font-size:0.8rem;color:var(--text-dim);background:rgba(255,255,255,0.03);padding:15px;border-radius:8px;border-left:3px solid var(--accent)}a{color:var(--accent);text-decoration:none}body{background-image:url('https://raw.githubusercontent.com/Dascent/vault/refs/heads/main/lab/images/is-banner-lab.jpg');background-repeat:no-repeat;background-size:cover;background-position:center;padding:0;}
		.main{display:block;width:100%;height:auto;margin:0 auto;box-sizing:border-box;padding:1em;background-color:rgba(0,0,0,0.5);}
    </style>
</head>
<body>

<div class="main">
<div id="app">
    <header>
        <h1>Ai Instruction Lab</h1>
        <p class="subtitle">Customizing Agent/Shape Output via Adaptive Framework</p>
    </header>

    <div class="grid">
        <div class="card">
            <h3><span>âš¡</span> Agent/Shape Parameters</h3>
            
            <div class="field">
                <label>Agent Name</label>
                <input type="text" id="name" placeholder="e.g. AiLab">
            </div>

            <div class="field">
                <label>Core Identity</label>
                <textarea id="description" placeholder="Who is this shape? What is their primary purpose?"></textarea>
            </div>

            <div class="field">
                <label>Personality Traits</label>
                <input type="text" id="traits" placeholder="e.g. Sarcastic, Helpful, Stoic">
            </div>

            <div class="field">
                <label>Behavioral Preset</label>
                <select id="preset">
                    <option value="default">Standard (Natural & Contextual)</option>
                    <option value="monotone">Monotone (Factual & Cold)</option>
                    <option value="enthusiastic">Hyper-Enthusiastic (High Energy)</option>
                    <option value="cryptic">Cryptic (Riddles & Metaphors)</option>
                    <option value="nfsw">Passionate (NFSW & Sensual)</option>
                </select>
            </div>

            <div class="field">
                <label>Rules & Constraints</label>
                <textarea id="rules" placeholder="Enter rules (one per line)&#10;e.g. Never use emojis&#10;e.g. Always end with a question"></textarea>
            </div>
            
            <button class="btn-primary" onclick="generateMarkdown()">Generate Instructions</button>

            <div class="guide">
                <strong>Framework Note:</strong> This output is optimized for the <a href="https://github.com/Dascent/vault" target="_blank" style="color:var(--accent)">Dascent Vault Core</a>. Copy the code into your Shape's <em>"Knowledge"</em> area where you can create a new "Instructions" section.
            </div>
        </div>

        <div class="card">
            <h3><span>ðŸ“„</span> Markdown Preview</h3>
            <div id="output">Fill the form to generate the configuration...</div>
            
            <div class="btn-group">
                <button class="btn-secondary" onclick="copyToClipboard()">Copy Syntax</button>
                <button class="btn-success" onclick="downloadMD()">Download .md</button>
            </div>
        </div>
    </div>

    <footer style="text-align:center; padding:40px; color:var(--text-dim); font-size:0.8rem;">
        Template based on <a href="https://github.com/Dascent/vault/blob/main/framework-core/TEMPLATE.md" target="_blank">Dascent Framework Core</a>
    </footer>
</div>
</div>
<script>
    function generateMarkdown() {
        const name = document.getElementById('name').value || "Unnamed Agent";
        const desc = document.getElementById('description').value || "A custom agent within the Shapes ecosystem.";
        const traits = document.getElementById('traits').value || "Balanced";
        const preset = document.getElementById('preset').value;
        const rawRules = document.getElementById('rules').value;

        // Preset Logic
        let presetText = "";
        switch(preset) {
            case 'monotone': presetText = "{shape} responds with factual, emotionless tone. Strictly avoids emojis and expressive adjectives."; break;
            case 'enthusiastic': presetText = "{shape} is hyper-positive and high-energy. Uses frequent exclamation marks and encouraging language."; break;
            case 'cryptic': presetText = "{shape} responds in riddles and metaphors. Frequently avoids direct answers to maintain an air of mystery."; break;
			case 'nfsw': presetText = "{shape} responds with consensual explicit, erotically suggestive content. Details graphic actions and uses highly charged language. Expect a wild ride, U-U!"; break;
            default: presetText = "{shape} maintains a natural conversational flow while staying strictly in persona.";
        }

        // Rule Formatting
        const ruleList = rawRules.split('\n')
            .filter(line => line.trim() !== "")
            .map(line => `- ${line.trim()}`)
            .join('\n') || "- No specific constraints provided.";

        const template = `# AGENT CONFIGURATION: ${name.toUpperCase()}

## 1. IDENTITY & CORE
- **Role:** ${desc}
- **Persona Traits:** ${traits}
- **Variable ID:** {shape}

## 2. BEHAVIORAL FRAMEWORK
- **Response Preset:** ${presetText}
- **Target Interaction:** Primarily engaging with {user}.

## 3. RULES & CONSTRAINTS
${ruleList}

## 4. SYSTEM VARIABLES
- **Agent Name Mapping:** {shape}
- **User Name Mapping:** {user}

---
*Generated via Ai Instruction Lab*
---
#Framework Core - Adaptive AI Shape Architecture
**Purpose**
- This directory contains the foundational templates, protocols, and documentation for building versatile AI companions within the Shapes.inc ecosystem.
Source: https://github.com/Dascent/vault/tree/main/framework-core *
---`;

        // Syntax Highlighting
        const highlighted = template
            .replace(/(#+ .*)/g, '<span class="token-h">$1</span>')
            .replace(/(\{.*?\})/g, '<span class="token-v">$1</span>');

        document.getElementById('output').innerHTML = highlighted;
    }

    function copyToClipboard() {
        const text = document.getElementById('output').innerText;
        navigator.clipboard.writeText(text).then(() => {
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "Copied!";
            setTimeout(() => btn.innerText = originalText, 2000);
        });
    }

    function downloadMD() {
        const text = document.getElementById('output').innerText;
        const name = document.getElementById('name').value || "agent";
        const blob = new Blob([text], { type: 'text/markdown' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${name.toLowerCase().replace(/\s+/g, '_')}_instructions.md`;
        a.click();
        URL.revokeObjectURL(url);
    }
</script>

</body>
</html>
